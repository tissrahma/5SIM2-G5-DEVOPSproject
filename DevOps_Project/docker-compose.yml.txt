version: '3'

services:
  sonar-scanner:
    image: sonarsource/sonar-scanner-cli:latest
    networks:
      - devops-network
    environment:
      - SONAR_HOST_URL=https://sonarcloud.io
      - SONAR_LOGIN=24825fffcf2d6d4849aa980394db05c8d0648afb
    volumes:
      - /var/lib/jenkins/workspace/ProjetSpring/DevOps_Project

networks:
  devops-network:
    driver: bridge
 nexus:
    image: sonatype/nexus3:latest
    ports:
      - "8081:8081"
    networks:
      - devops-network
    volumes:
      - nexus-data:/nexus-data
mysql:
    image: mysql:latest
    networks:
      - devops-network
    environment:
      - MYSQL_DATABASE=devops
      - MYSQL_USER=root
      - MYSQL_PASSWORD=your_new_password
    volumes:
      - mysql-data:/var/lib/mysql
networks:
  devops-network:
    driver: bridge

volumes:
sonar-scanner-data:
  mysql-data:
nexus-data: